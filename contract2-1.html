<?
include("include/head.php");
?>

<body>
    <div id="wrap">
        <!--Title Header s-->
        <header
            class="d-flex bg-white sticky-header sticky-top  flex-wrap align-items-center justify-content-between py-3">
            <nav class="navbar">
                <div class="container-fluid">
                    <button class="navbar-toggler default-stroke" type="button" data-bs-toggle="offcanvas"
                        data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">

                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3 4H20" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M3 12H20" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M3 20H20" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </button>
                    <div data-include1="header" id="header"></div>
                    <div class="header_title">임대 계약서 등록</div>
                    <button type="button" class="btn navbar-toggler default-fill" data-bs-toggle="modal"
                        data-bs-target="#alarmmodal">
                        <span class="position-absolute top-0 start-100 translate-middle p-1 bg-danger  rounded-circle">
                            <span class="visually-hidden">새로운 알림</span>
                        </span>
                        <svg xmlns="http://www.w3.org/2000/svg" height="32" viewBox="0 -960 960 960" width="32">
                            <path
                                d="M160-200v-60h80v-304q0-84 49.5-150.5T420-798v-22q0-25 17.5-42.5T480-880q25 0 42.5 17.5T540-820v22q81 17 130.5 83.5T720-564v304h80v60H160Zm320-302Zm0 422q-33 0-56.5-23.5T400-160h160q0 33-23.5 56.5T480-80ZM300-260h360v-304q0-75-52.5-127.5T480-744q-75 0-127.5 52.5T300-564v304Z" />
                        </svg>
                    </button>
                </div>
            </nav>
        </header>
        <!--Title Header e-->
        <!--content s-->
        <div class="container">
            <div class="d-flex flex-column px-3 ">
                
                <form>
                    <div>
                        <div class="info_box mb-4" role="alert">
                            <ul>
                                <li>임차인의 주민등록번호를 등록해 주세요.</li>
                                <li>주민등록번호는 암호화해서 관리합니다.</li>
                                <li>임대계약 종료일을 등록해주세요.</li>
                            </ul>
                        </div>
                        <div class="input-group align-items-center mt-4">
                            <div class="subtitle3 flex-1">임차인<br>주민등록번호 뒷자리</div>
                            <input type="text" class="form-control flex-1" placeholder="" aria-label=""
                                aria-describedby="basic-addon1">
                        </div>
                     
                        <div class="input-group align-items-center mt-4">
                            <div class="subtitle3 flex-1">임대계약 종료일</div>
                            <input type="text" class="form-control flex-1" placeholder="종료일 선택"
                                            data-bs-toggle="modal" data-bs-target="#calendarmodal">
                        </div>
                        
                    </div>
                  <!-- calendarmodal s-->
        <div class="modal fade" id="calendarmodal" tabindex="-1" aria-labelledby="calendarmodalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="calendarmodalLabel">날짜 선택</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    ...
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-gray" data-bs-dismiss="modal">취소</button>
                    <button type="button" class="btn btn-primary">확인</button>
                </div>
            </div>
        </div>
    </div>
    <!-- calendarmodal e-->

                    <div class="info_box mt-5" role="alert">
                        <ul>
                            <li>여러장으로 구성된 계약서는 모두 등록해주세요.</li>
                            <li>주민등록번호 뒷자리가 가려진 임대계약서사진을 등록해 주세요.</li>
                        </ul>
                    </div>

                    <div class="mt-3"> 
                        <div id="images" class="my-3"><span>계약서 이미지를 모두 등록해 주세요.</span></div>
                        <div class="upload_thumnail_wrap">
                        <div class="thum" data-bs-toggle="button"><img src="img/bg/intro.jpg"></div>    
                        <div class="thum" data-bs-toggle="button"><img src="img/bg/intro.jpg"></div>  
                        <div class="thum"> 
                        <input type="file" id="file-input" accept="image/png, image/jpeg" onchange="preview()" multiple>
                        <button type="button" class="btn btn-lg btn-primary-light">
                            <label class="cl_dark" for="file-input">
                                <span class="material-symbols-outlined">upload</span>
                            </label>
                        </button>
                        <p id="num-of-files" class="d-none"></p>
                    </div> 
                    </div>
                 </div>
                
                 <div class="fixed_bottom full d-flex"> 
                      
                    <button type="button" class="btn btn-lg  btn-primary"
                        onclick="location.href='contract4-1.html'">다음</button>
                </div>

                </form>
            </div>
        </div>
        <!--content e--> 

<!--임대계약서 등록 안내 modal s-->
<div class="modal fade" id="upload_notice" tabindex="-1" aria-labelledby="scheduleLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">임대계약서 등록 안내</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body px-3">
                작년에 있었던 모든 임대계약서를
등록해주세요.
<br>
임대주택에 해당되는 계약서가 다수인 경우에는  [다른 계약서 등록] 버튼을 눌러서 추가로 등록해 주세요 


            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-md  btn-primary" data-bs-dismiss="modal">확인</button>
            </div>
        </div>
    </div>
</div>
<!--임대계약서 등록 안내 modal e-->


        <script>
            $(function () {
                $("#upload_notice").modal("show");
            });
        </script>
     

<script>
            let fileInput = document.getElementById("file-input");
            let imageContainer = document.getElementById("images");
            let numOfFiles = document.getElementById("num-of-files");

            function preview() {
                imageContainer.innerHTML = "";
                numOfFiles.textContent = `${fileInput.files.length} 개의 파일이 등록되었습니다.`;

                for (i of fileInput.files) {
                    let reader = new FileReader();
                    let figure = document.createElement("figure");
                    let figCap = document.createElement("figcaption");
                    figCap.innerText = i.name;
                    figure.appendChild(figCap);
                    reader.onload = () => {
                        let img = document.createElement("img");
                        img.setAttribute("src", reader.result);
                        figure.insertBefore(img, figCap);
                    }
                    imageContainer.appendChild(figure);
                    reader.readAsDataURL(i);
                }
            }
        </script>
        <?
        include("include/footer.php");
        ?>

</body>
</html>